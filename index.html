<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2025 豐趣國內員旅點名系統</title>
  <style>
    :root {
      --bg: #2E3440;
      --panel: #3B4252;
      --accent: #88C0D0;
      --text: #ECEFF4;
      --success: #A3BE8C;
      --danger: #BF616A;
      --line: #4C566A;
      --highlight: #8FBCBB;
    }

    body {
      background-color: var(--bg);
      color: var(--text);
      font-family: "微軟正黑體", sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      flex-direction: column;
    }

    main {
      background: var(--panel);
      border-radius: 1rem;
      padding: 1.5rem;
      width: 90%;
      max-width: 500px;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }

    h1 {
      color: var(--accent);
      text-align: center;
      margin-bottom: 1rem;
    }

    nav {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 1.2rem;
    }

    button {
      flex: 1;
      padding: 0.5rem 0.8rem;
      border: none;
      border-radius: 0.5rem;
      background: var(--line);
      color: var(--text);
      cursor: pointer;
      transition: all 0.2s ease-in-out;
    }

    button:hover {
      background: var(--accent);
      color: var(--bg);
    }

    /* 🌟 高亮樣式 */
    button.active {
      background: var(--highlight);
      color: var(--bg);
      font-weight: bold;
      box-shadow: 0 0 5px var(--accent);
    }

    section {
      text-align: center;
    }

    ul {
      list-style: none;
      padding: 0;
      margin: 0.5rem 0;
    }

    li {
      background: var(--line);
      margin: 0.3rem 0;
      padding: 0.6rem;
      border-radius: 0.5rem;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    li.called {
      background-color: var(--success);
      color: var(--bg);
    }

    li:hover {
      filter: brightness(1.15);
    }

    #status {
      color: var(--accent);
      font-size: 0.9rem;
      margin-bottom: 0.8rem;
    }

    /* 📍 新增清除按鈕區塊 */
    .bottom-actions {
      display: flex;
      justify-content: center;
      margin-top: 1rem;
    }

    #clear-btn {
      background: var(--danger);
      color: var(--text);
      font-weight: bold;
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 0.5rem;
      transition: all 0.2s;
    }

    #clear-btn:hover {
      background: #D46A6A;
      color: #fff;
      box-shadow: 0 0 5px var(--danger);
    }

    footer {
      margin-top: 1.5rem;
      text-align: right;
      font-size: 0.9rem;
      color: var(--accent);
    }

    h3 {
      color: var(--accent);
      margin-top: 1rem;
    }
  </style>
  </head>
  
  <body>
    <main>
      <h1>2025 豐趣國內員旅點名系統</h1>
  
      <nav>
        <button id="listA-btn">遊覽車</button>
        <button id="listB-btn">全員名單</button>
      </nav>
  
      <section>
        <h2 id="list-title">遊覽車清單</h2>
        <p id="status"></p>
        <h3>✅ 已點名</h3>
        <ul id="present-list"></ul>
        <h3>🕒 未點名</h3>
        <ul id="absent-list"></ul>
  
        <div class="bottom-actions">
          <button id="clear-btn">🧹 清除店名</button>
        </div>
      </section>
    </main>
  
    <script>
      const busList = [
        "裘以嘉",
        "黃程韋",
        "林琬若",
        "黃麗惠",
        "林岳穎",
        "林彥甫",
        "林書瑀",
        "何沛瑄",
        "李雅媛",
        "邱易賦",
        "張芷瑜",
        "莊宗庭",
        "邱盈嘉",
        "林書儀",
        "葉志翔",
        "葉昕霏",
        "葉宥承",
        "羅湘蓉",
        "陳昱穎",
        "游志豪",
        "江芸",
        "曾姳璇",
        "李維軒"
      ];

                const allList = [
                  "裘以嘉",
                  "蔡豐全",
                  "蔡孟庭",
                  "余宛如",
                  "徐文彥",
                  "徐位理",
                  "徐笠雅",
                  "黃程韋",
                  "邵亮惟",
                  "邵奎凱",
                  "林琬若",
                  "黃麗惠",
                  "林岳穎",
                  "林彥甫",
                  "林書瑀",
                  "何沛瑄",
                  "李雅媛",
                  "邱易賦",
                  "鄒仕樺",
                  "林辰映",
                  "陳國維",
                  "陳歆沛",
                  "陳立洵",
                  "張芷瑜",
                  "莊宗庭",
                  "邱盈嘉",
                  "林書儀",
                  "葉志翔",
                  "葉昕霏",
                  "葉宥承",
                  "林晉賢",
                  "羅湘蓉",
                  "陳昱穎",
                  "游志豪",
                  "江芸",
                  "曾姳璇",
                  "李維軒"
                ];

                const lists = {
                  A: busList,
                  B: allList
                };

                let currentList = "A";

                const btnA = document.getElementById("listA-btn");
                const btnB = document.getElementById("listB-btn");

                function getCalledData() {
                  return JSON.parse(localStorage.getItem("calledData") || "{}");
        }

                function saveCalledData(data) {
                  localStorage.setItem("calledData", JSON.stringify(data));
        }

                function renderList(listKey) {
                  const data = getCalledData();
                  const called = data[listKey] || [];
                  const presentList = document.getElementById("present-list");
                  const absentList = document.getElementById("absent-list");
                  const title = document.getElementById("list-title");
                  const status = document.getElementById("status");

                const displayName = listKey === "A" ? "遊覽車" : "全員名單";
                title.textContent = displayName;
                presentList.innerHTML = "";
                absentList.innerHTML = "";

                const names = lists[listKey];
                const total = names.length;
                const count = called.length;
                status.textContent = `已點名人數： ${count} / 未點名人數： ${total - count}`;

                names.forEach(name => {
                  const li = document.createElement("li");
                  li.textContent = name;
                  if (called.includes(name)) {
                    li.classList.add("called");
                    li.addEventListener("click", () => toggleCall(listKey, name, false));
                    presentList.appendChild(li);
                  } else {
                    li.addEventListener("click", () => toggleCall(listKey, name, true));
                    absentList.appendChild(li);
        }
              });

                updateActiveButton(listKey);
        }

                function toggleCall(listKey, name, markPresent) {
                  const data = getCalledData();
                  data[listKey] ??= [];

                if (markPresent) {
                  if (!data[listKey].includes(name)) data[listKey].push(name);
                } else {
                  data[listKey] = data[listKey].filter(n => n !== name);
        }

                saveCalledData(data);
                renderList(listKey);
        }

                document.getElementById("clear-btn").addEventListener("click", () => {
                  const data = getCalledData();
                  delete data[currentList];
                  saveCalledData(data);
                  renderList(currentList);
                  alert(`已清除「${currentList === 'A' ? '遊覽車' : '全員名單'}」的點名紀錄！`);
                });

                btnA.addEventListener("click", () => {
                  currentList = "A";
                  renderList("A");
                });
                btnB.addEventListener("click", () => {
                  currentList = "B";
                  renderList("B");
                });

                function updateActiveButton(listKey) {
                  btnA.classList.toggle("active", listKey === "A");
                  btnB.classList.toggle("active", listKey === "B");
                }

                renderList("A");
        </script>
</body>
</html>