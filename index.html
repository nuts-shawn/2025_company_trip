<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2025 è±è¶£åœ‹å…§å“¡æ—…é»åç³»çµ±</title>
  <style>
    :root {
      --bg: #2E3440;
      --panel: #3B4252;
      --accent: #88C0D0;
      --text: #ECEFF4;
      --success: #A3BE8C;
      --danger: #BF616A;
      --line: #4C566A;
      --highlight: #8FBCBB;
    }

    body {
      background-color: var(--bg);
      color: var(--text);
      font-family: "å¾®è»Ÿæ­£é»‘é«”", sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      flex-direction: column;
    }

    main {
      background: var(--panel);
      border-radius: 1rem;
      padding: 1.5rem;
      width: 90%;
      max-width: 500px;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }

    h1 {
      color: var(--accent);
      text-align: center;
      margin-bottom: 1rem;
    }

    nav {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 1.2rem;
    }

    button {
      flex: 1;
      padding: 0.5rem 0.8rem;
      border: none;
      border-radius: 0.5rem;
      background: var(--line);
      color: var(--text);
      cursor: pointer;
      transition: all 0.2s ease-in-out;
    }

    button:hover {
      background: var(--accent);
      color: var(--bg);
    }

    /* ğŸŒŸ é«˜äº®æ¨£å¼ */
    button.active {
      background: var(--highlight);
      color: var(--bg);
      font-weight: bold;
      box-shadow: 0 0 5px var(--accent);
    }

    section {
      text-align: center;
    }

    ul {
      list-style: none;
      padding: 0;
      margin: 0.5rem 0;
    }

    li {
      background: var(--line);
      margin: 0.3rem 0;
      padding: 0.6rem;
      border-radius: 0.5rem;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    li.called {
      background-color: var(--success);
      color: var(--bg);
    }

    li:hover {
      filter: brightness(1.15);
    }

    #status {
      color: var(--accent);
      font-size: 0.9rem;
      margin-bottom: 0.8rem;
    }

    /* ğŸ“ æ–°å¢æ¸…é™¤æŒ‰éˆ•å€å¡Š */
    .bottom-actions {
      display: flex;
      justify-content: center;
      margin-top: 1rem;
    }

    #clear-btn {
      background: var(--danger);
      color: var(--text);
      font-weight: bold;
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 0.5rem;
      transition: all 0.2s;
    }

    #clear-btn:hover {
      background: #D46A6A;
      color: #fff;
      box-shadow: 0 0 5px var(--danger);
    }

    footer {
      margin-top: 1.5rem;
      text-align: right;
      font-size: 0.9rem;
      color: var(--accent);
    }

    h3 {
      color: var(--accent);
      margin-top: 1rem;
    }
  </style>
  </head>
  
  <body>
    <main>
      <h1>2025 è±è¶£åœ‹å…§å“¡æ—…é»åç³»çµ±</h1>
  
      <nav>
        <button id="listA-btn">éŠè¦½è»Š</button>
        <button id="listB-btn">å…¨å“¡åå–®</button>
      </nav>
  
      <section>
        <h2 id="list-title">éŠè¦½è»Šæ¸…å–®</h2>
        <p id="status"></p>
        <h3>âœ… å·²é»å</h3>
        <ul id="present-list"></ul>
        <h3>ğŸ•’ æœªé»å</h3>
        <ul id="absent-list"></ul>
  
        <div class="bottom-actions">
          <button id="clear-btn">ğŸ§¹ æ¸…é™¤åº—å</button>
        </div>
      </section>
    </main>
  
    <script>
      const busList = [
        "è£˜ä»¥å˜‰",
        "é»ƒç¨‹éŸ‹",
        "æ—ç¬è‹¥",
        "é»ƒéº—æƒ ",
        "æ—å²³ç©",
        "æ—å½¥ç”«",
        "æ—æ›¸ç‘€",
        "ä½•æ²›ç‘„",
        "æé›…åª›",
        "é‚±æ˜“è³¦",
        "å¼µèŠ·ç‘œ",
        "èŠå®—åº­",
        "é‚±ç›ˆå˜‰",
        "æ—æ›¸å„€",
        "è‘‰å¿—ç¿”",
        "è‘‰æ˜•éœ",
        "è‘‰å®¥æ‰¿",
        "ç¾…æ¹˜è“‰",
        "é™³æ˜±ç©",
        "æ¸¸å¿—è±ª",
        "æ±ŸèŠ¸",
        "æ›¾å§³ç’‡",
        "æç¶­è»’"
      ];

                const allList = [
                  "è£˜ä»¥å˜‰",
                  "è”¡è±å…¨",
                  "è”¡å­Ÿåº­",
                  "ä½™å®›å¦‚",
                  "å¾æ–‡å½¥",
                  "å¾ä½ç†",
                  "å¾ç¬ é›…",
                  "é»ƒç¨‹éŸ‹",
                  "é‚µäº®æƒŸ",
                  "é‚µå¥å‡±",
                  "æ—ç¬è‹¥",
                  "é»ƒéº—æƒ ",
                  "æ—å²³ç©",
                  "æ—å½¥ç”«",
                  "æ—æ›¸ç‘€",
                  "ä½•æ²›ç‘„",
                  "æé›…åª›",
                  "é‚±æ˜“è³¦",
                  "é„’ä»•æ¨º",
                  "æ—è¾°æ˜ ",
                  "é™³åœ‹ç¶­",
                  "é™³æ­†æ²›",
                  "é™³ç«‹æ´µ",
                  "å¼µèŠ·ç‘œ",
                  "èŠå®—åº­",
                  "é‚±ç›ˆå˜‰",
                  "æ—æ›¸å„€",
                  "è‘‰å¿—ç¿”",
                  "è‘‰æ˜•éœ",
                  "è‘‰å®¥æ‰¿",
                  "æ—æ™‰è³¢",
                  "ç¾…æ¹˜è“‰",
                  "é™³æ˜±ç©",
                  "æ¸¸å¿—è±ª",
                  "æ±ŸèŠ¸",
                  "æ›¾å§³ç’‡",
                  "æç¶­è»’"
                ];

                const lists = {
                  A: busList,
                  B: allList
                };

                let currentList = "A";

                const btnA = document.getElementById("listA-btn");
                const btnB = document.getElementById("listB-btn");

                function getCalledData() {
                  return JSON.parse(localStorage.getItem("calledData") || "{}");
        }

                function saveCalledData(data) {
                  localStorage.setItem("calledData", JSON.stringify(data));
        }

                function renderList(listKey) {
                  const data = getCalledData();
                  const called = data[listKey] || [];
                  const presentList = document.getElementById("present-list");
                  const absentList = document.getElementById("absent-list");
                  const title = document.getElementById("list-title");
                  const status = document.getElementById("status");

                const displayName = listKey === "A" ? "éŠè¦½è»Š" : "å…¨å“¡åå–®";
                title.textContent = displayName;
                presentList.innerHTML = "";
                absentList.innerHTML = "";

                const names = lists[listKey];
                const total = names.length;
                const count = called.length;
                status.textContent = `å·²é»åäººæ•¸ï¼š ${count} / æœªé»åäººæ•¸ï¼š ${total - count}`;

                names.forEach(name => {
                  const li = document.createElement("li");
                  li.textContent = name;
                  if (called.includes(name)) {
                    li.classList.add("called");
                    li.addEventListener("click", () => toggleCall(listKey, name, false));
                    presentList.appendChild(li);
                  } else {
                    li.addEventListener("click", () => toggleCall(listKey, name, true));
                    absentList.appendChild(li);
        }
              });

                updateActiveButton(listKey);
        }

                function toggleCall(listKey, name, markPresent) {
                  const data = getCalledData();
                  data[listKey] ??= [];

                if (markPresent) {
                  if (!data[listKey].includes(name)) data[listKey].push(name);
                } else {
                  data[listKey] = data[listKey].filter(n => n !== name);
        }

                saveCalledData(data);
                renderList(listKey);
        }

                document.getElementById("clear-btn").addEventListener("click", () => {
                  const data = getCalledData();
                  delete data[currentList];
                  saveCalledData(data);
                  renderList(currentList);
                  alert(`å·²æ¸…é™¤ã€Œ${currentList === 'A' ? 'éŠè¦½è»Š' : 'å…¨å“¡åå–®'}ã€çš„é»åç´€éŒ„ï¼`);
                });

                btnA.addEventListener("click", () => {
                  currentList = "A";
                  renderList("A");
                });
                btnB.addEventListener("click", () => {
                  currentList = "B";
                  renderList("B");
                });

                function updateActiveButton(listKey) {
                  btnA.classList.toggle("active", listKey === "A");
                  btnB.classList.toggle("active", listKey === "B");
                }

                renderList("A");
        </script>
</body>
</html>